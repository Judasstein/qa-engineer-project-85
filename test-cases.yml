---
- summary: |
    Успешная авторизация через GitHub
  requirement: |
    При вводе корректного логина и пароля пользователь должен попасть на главную страницу
  prerequisites: |
    Открыта страница логина, у пользователя есть аккаунт на GitHub
  test-data: |
    Логин = Testlogin Пароль = Testpass
  steps:
    - Ввести имя пользователя или эмейл
    - Ввести пароль
    - Нажать "Sign in"
  expected-result: |
    Убедиться, что пользователь попал на главную страницу

- summary: |
    Успешная авторизация через Discord
  requirement: |
    При вводе корректного логина и пароля пользователь должен попасть на главную страницу
  prerequisites: |
    Открыта страница логина, у пользователя есть аккаунт в Discord
  test-data: |
    Логин = Testlogin Пароль = Testpass
  steps:
    - Ввести имя пользователя или номер телефона
    - Ввести пароль
    - Нажать "Вход"
  expected-result: |
    Убедиться, что пользователь попал на главную страницу

- summary: |
   Успешная авторизация через сайт
  requirement: |
    При вводе верного эмейла и пароля пользователь должен попасть на главную страницу
  prerequisites: |
    Открыта страница логина
  test-data: |
    Логин = QWerty Пароль = 112123
  steps:
    - Ввести эмейл
    - Ввести пароль
    - Нажать "Sign in"
  expected-result: |
    Убедиться, что пользователь попал на главную страницу

- summary: |
    Успешная регистрация через сайт
  requirement: |
    Пользователь должен иметь возможность регистрации на сайте
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Nickname = Qwerty Email =  Test@email.ru Password = Testpass
  steps:
    - Ввести никнейм
    - Ввести эмейл
    - Ввести пароль
    - Подтвердить пароль
    - Нажать "Submit"
  expected-result: |
    Убедиться, что пользователь попал на главную страницу

- summary: |
    Неуспешная регистрация через сайт
  requirement: |
    При вводе некорректных данных пользователь должен получить сообщение об ошибке
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Nickname = Анастасия Email = Test@email.ru Password = 112123 
  steps:
    - Ввести никнейм
    - Ввести эмейл
    - Ввести пароль
    - Подтвердить пароль
    - Нажать "Submit"
  expected-result: |
    Убедиться, что появилось сообщение об ошибке

- summary: |
    Неуспешный вход с помощью несуществующего эмейла
  requirement: |
    При вводе некорректного эмейла пользователь должен получить сообщение об ошибке "Invalid email"
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    Email = Test@email.ru Password = 112123 
  steps:
    - Ввести эмейл
    - Ввести пароль
    - Нажать "Submit"
  expected-result: |
    Убедиться, что пользователь получил сообщение об ошибке "Invalid email"

- summary: |
    Неуспешный вход с помощью несуществующего пароля
  requirement: |
    При вводе некорректного пароля пользователь должен получить сообщение об ошибке "INVALID_PASSWORD"
  prerequisites:
    Открыта страница авторизации
  test-data: |
    email - Test@email.ru, пароль - 123456789
  steps:
    - Ввести эмейл
    - Ввести несуществующий пароль
    - Нажать "Sign in"
  expected-result: |
    Убедиться, что пользователь получил сообщение об ошибке "INVALID_PASSWORD"

- summary: |
    Успешное восстановление пароля
  requirement: |
    Если пользователь забыл пароль, его можно восстановить с помощью отправки письма на эмейл
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    Test@email.ru
  steps:
    - Нажать "Forgot your password?"
    - Ввести эмейл
    - Проверить указанный эмейл на наличие письма
    - Перейти по ссылке в письме
    - Ввести новый пароль
    - Перейти на страницу авторизации Codebattle
    - Ввести эмейл
    - Ввести новый пароль
  expected-result: |
    Убедиться, что авторизация прошла успешно
    
- summary: |
    Успешное создание игры с другом
  requirement: |
    После создания игры с другом, выбранному сопернику поступает уведомление об игре 
  prerequisites: |
    Открыта главная страница
  test-data: |
     Level = 1 Time control = 10 min Task = random
  steps:
    - Нажать "Create a game"
    - Выбрать "Level"
    - Выбрать "Game type" = "With a friend"
    - Установить "Time control"
    - Выбрать "Task"
    - Нажать "Create invite"
  Действия оппонента:
    - Нажать на иконку скрещенных мечей
    - Нажать "Accept"
  expected-result: |
    Убедиться, что игра создана и другой пользователь получил уведомление об игре

- summary: |
    Успешное создание игры с ботом
  requirement: |
    После создания игры открывается окно с редактором кода
  prerequisites: |
    Открыта главная страница
  test-data: |
     Level = 1 Time control = 10 min Task = random
  steps:
    - Нажать "Create a game"
    - Выбрать "Level"
    - Установить "Time control"
    - Выбрать "Task"
    - Нажать "Create battle"
  expected-result: |
    Убедиться, что игра с ботом создана

- summary: |
    Успешное создание игры без регистрации
  requirement: |
    Пользователь должен иметь возможность создать игру без регистрации
  prerequisites: |
    Открыта главная страница
  test-data: |
     Empty
  steps:
    - Нажать "Try simple battle"
  expected-result: |
    Убедиться, что игра запускается без регистрации

- summary: |
    Успешное создание турнира
  requirement: |
    Пользователь должен иметь возможность создать турнир
  prerequisites: |
    Открыта главная страница
  test-data: |
     Name = My fancy tournament Type = individual Description = Test tournament
     Starts at = 28.07.2024 14:00 Access type = public Task strategy = random_per_game
     Score strategy = time_and_tests Task provider = level Level = easy Event = 1 
     Player limit = 16 Default language = js Match timeout seconds = 200 Break duration seconds = 60
  steps:
    - Нажать на аватар
    - Нажать "Tournaments"
    - Проскроллить страницу вниз
    - Ввести название в поле "Name"
    - Выбрать "Type"
    - Ввести "Description"
    - Установить "Starts at"
    - Установить "Access type"
    - Установить "Task strategy"
    - Установить "Score strategy"
    - Установить "Task provider"
    - Установить "Level"
    - Установить "Players limit"
    - Установить "Default language"
    - Установить "Match timeout seconds"
    - Установить "Break duration seconds"
    - Нажать "Create"
  expected-result: |
    Убедиться, что турнир создан
    
- summary: |
    Успешный просмотр текущей игры между другими пользователями
  requirement: |
    Пользователь должен иметь возможность просмотра других игр
  prerequisites:
    Открыта главная страница, создана игра между другими пользователями
  test-data: |
    null
  steps:
    - Нажать "Lobby"
    - Нажать "Show"
  expected-result: |
    Убедиться, что открывается игра в режиме реального времени

- summary: |
    Успешный просмотр завершенной игры 
  requirement: |
    Пользователь должен иметь возможность просмотра завершенной игры
  prerequisites:
    Открыта главная страница
  test-data: |
    null
  steps:
    - Нажать "History"
    - Нажать "Show" на любой игре
  expected-result: |
    Убедиться, что открывается окно с информацией об игре

- summary: |
    Успешное редактирование имени пользователя
  requirement: |
    Пользователь должен иметь возможность редактировать свой профиль
  prerequisites: |
    Открыта главная страница
  test-data: |
    Старый никнейм = Qwerty Новый никнейм = Qwerty123
  steps:
    - Нажать на иконку профиля
    - Нажать 'Settings'
    - Нажать на поле "Your name"
    - Ввести желаемый ник
    - Нажать'Save'
    - Обновить страницу
  expected-result: |
    Убедиться, что никнейм изменен

- summary: |
    Успешный редирект на профиль Github из профиля Codebattle
  requirement: |
    При нажатии на иконку Github в профиле Codebattle происходит редирект на профиль Github
  prerequisites:
    Открыта страница профиля
  test-data: |
    empty
  steps:
    - Нажать на иконку Github под аватаром
  expected-result: |
    Убедиться, что открывается профиль Github

- summary: |
    Успешный просмотр истории игр
  requirement: |
    У пользователя должна быть возможность просматривать историю своих игр
  prerequisites:
    Открыта страница профиля
  test-data: |
    empty
  steps:
    - Нажать "Completed games"
  expected-result: |
    Убедиться, что открывается страница со списком сыгранных игр

- summary: |
    Успешный просмотр завершенной игры
  requirement: |
    У пользователя должна быть возможность просматривать результаты своих игр
  prerequisites:
    Открыта страница профиля
  test-data: |
    empty
  steps:
    - Нажать "Completed games"
    - Нажать "Show" на любой игре
  expected-result: |
    Убедиться, что открывается страница с информацией об игре

- summary: |
    Успешное изменение языка программирования в профиле
  requirement: |
    У пользователя должна быть возможность изменять язык программирования в профиле
  prerequisites:
    Открыта главная страница
  test-data: |
    JavaScript, Go
  steps:
    - Нажать на аватар
    - Нажать "Settings"
    - Нажать "Your weapon"
    - Выбрать язык
    - Нажать "Save"
  expected-result: |
    Убедиться, что язык программирования сменился на выбранный

- summary: |
    Успешное изменение звукового эффекта
  requirement: |
    У пользователя должна быть возможность изменять звуковой эффект
  prerequisites:
    Открыта главная страница
  test-data: |
    Select sound type, Dendy
  steps:
    - Нажать на аватар
    - Нажать "Settings"
    - Нажать чекбокс "Dendy"
    - Нажать "Save"
  expected-result: |
    Убедиться, что звуковой эффект сохранился

- summary: |
    Успешное изменение громкости звукового эффекта
  requirement: |
    У пользователя должна быть возможность регулировать громкость звукового эффекта
  prerequisites:
    Открыта главная страница
  test-data: |
    Dendy
  steps:
    - Нажать на аватар
    - Нажать "Settings"
    - Изменить положение ползунка
    - Нажать "Save"
  expected-result: |
    Убедиться, что уровень громкости сохранился

- summary: |
    Успешная отправка сообщений в чат
  requirement: |
    Пользователь должен иметь возможность общаться с другими пользователями в чате
  prerequisites:
    Открыта главная страница
  test-data: |
    Testtext
  steps:
    - Нажать на поле ввода текста
    - Ввести сообщение
    - Нажать "Send"
  expected-result: |
    Убедиться, что сообщение отправлено

- summary: |
    Успешная отправка личных сообщений другому пользователю
  requirement: |
    Пользователь должен иметь возможность общаться с другими пользователями в личных сообщениях
  prerequisites:
    Открыта главная страница
  test-data: |
    Testtext
  steps:
    - Нажать на ник пользователя
    - Нажать "Direct message"
    - Ввести сообщение
    - Нажать "Send"
  expected-result: |
    Убедиться, что личное сообщение отправлено

- summary: |
    Успешная смена языка во время игры
  requirement: |
    Пользователь должен иметь возможность сменить язык в игре
  prerequisites:
    Пользователь участвует в игре
  test-data: |
    Язык RU
  steps:
    - Нажать на поле "EN"
    - Выбрать другой язык
  expected-result: |
    Убедиться, что задание в игре отображается на выбранном языке

- summary: |
    Успешный вывод двух экранов во время игры
  requirement: |
    Пользователь должен иметь возможность видеть свой экран и экран соперника
  prerequisites:
    Пользователь участвует в игре
  test-data: |
    Empty
  steps:
    - Создать игру
  expected-result: |
    Убедиться, что отображается два экрана, свой и соперника

- summary: |
    Успешая проверка верного решения в игре
  requirement: |
    При правильном решении пользователь должен получить сообщение "Woohoo, you're Champion!!!!!"
  prerequisites:
    Пользователь участвует в игре
  test-data: |
    const _ = require("lodash");
    const R = require("rambda");
    const solution = (width, length) => {
    return width * length;
    };
    module.exports = solution;
  steps:
    - Ввести решение
    - Нажать "Run"
  expected-result: |
    Убедиться, что при верном решении пользователь получил сообщение "Woohoo, you're Champion!!!!!"

- summary: |
    Успешая проверка неверного решения в игре
  requirement: |
    Если решение неверное, пользователь должен получить сообщение "Tests failed"
  prerequisites:
    Пользователь участвует в игре
  test-data: |
    const _ = require("lodash");
    const R = require("rambda");
    const solution = (width, length) => {
    return 0;
    };
    module.exports = solution;
  steps:
    - Ввести решение
    - Нажать "Run"
  expected-result: |
    Убедиться, что пользователь получил сообщение "Tests failed"

- summary: |
    Успешное переподключение к игре
  requirement: |
    Пользователь должен иметь возможность переподключиться к игре, если он вылетел
  prerequisites:
    Пользователь участвует в игре
  test-data: |
    Empty
  steps:
    - Закрыть вкладку с игрой
    - Открыть Codebattle
    - Нажать "Continue"
  expected-result: |
    Убедиться, что пользователь переподключился к игре

- summary: |
    Успешный вывод победителя в игре
  requirement: |
    Когда один из игроков находит верное решение, обоим игрокам высвечивается модальное окно, где написано, кто является победителем этой игры
  prerequisites:
    Создана игра между пользователями на поиск площади треугольника
  test-data: |
    const _ = require("lodash");
    const R = require("rambda");
    const solution = (width, length) => {
    return width * length;
    };
    module.exports = solution;
  steps:
    - Ввести решение
    - Нажать "Run"
  expected-result: |
    Убедиться, что другой пользователь видит сообщение о победителе

- summary: |
    Успешный вывод сообщения о проигрыше
  requirement: |
    Когда один из игроков находит верное решение, проигравший должен получить сообщение "If you read this you've lost the game"
  prerequisites:
    Пользователь участвует в игре с ботом
  test-data: |
    empty
  steps:
    - Дождаться окончания раунда
  expected-result: |
    Убедиться, что проигравший получил сообщение "If you read this you've lost the game"

- summary: |
    Успешное предложение сдаться
  requirement: |
    У пользователя должна быть возможность сдаться (появится сообщение "If you read this you've lost the game")
  prerequisites:
    Пользователь участвует в игре с ботом
  test-data: |
    empty
  steps:
    - Нажать на красный флаг
    - Нажать "Give up"
  expected-result: |
    Убедиться, что пользователь получил сообщение "If you read this you've lost the game"

- summary: |
    Успешная защита от XSS 
  requirement: |
    Сайт должен быть защищен от XSS уязвимостей
  prerequisites:
    Открыта главная страница
  test-data: |
    <h1>https://ru.hexlet.io/</h1>
  steps:
    - Нажать на поле чата
    - Вставить код
    - Нажать "Send"
  expected-result: |
    Убедиться, что вставленный код не воспроизводится

- summary: |
    Успешная защита от копирования кода соперника
  requirement: |
    Пользователь не может копировать код соперника во время игры
  prerequisites:
    Создана игра между пользователями
  test-data: |
    empty
  steps:
    - Нажать на поле чата
    - Выделить код соперника
  expected-result: |
    Убедиться, что поле соперника защищено от копирования

- summary: |
    Успешная защита от вставки кода в поле соперника
  requirement: |
    Пользователь не может вставлять свой код в код соперника во время игры
  prerequisites:
    Создана игра между пользователями
  test-data: |
    empty
  steps:
    - Нажать на поле чата
    - Вставить код
  expected-result: |
    Убедиться, что поле соперника защищено от вставки

- summary: |
    Успешный редирект на страницу проекта в Github
  requirement: |
    При нажатии на "Source Code" должен происходить переход на Github
  prerequisites:
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажать на аватар
    - Нажать "Source Code"
  expected-result: |
    Убедиться, что происходит редирект на страницу проекта на Github

- summary: |
    Успешный редирект на сайт Hexlet.io
  requirement: |
    При нажатии на "Hexlet" должен происходить переход на сайт Hexlet.io
  prerequisites:
    Открыта главная страница
  test-data: |
    empty
  steps:
    - Нажать на аватар
    - Нажать "Hexlet"
  expected-result: |
    Убедиться, что происходит редирект на сайт Hexlet

- summary: |
    Успешный редирект на сервер Codebattle в дискорде
  requirement: |
    При нажатии на "Join Discord" должно появиться окно с приглашением в дискорд
  prerequisites:
    Открыта главная страница, пользователь авторизован в дискорде
  test-data: |
    empty
  steps:
    - Нажать на аватар
    - Нажать "Join Discord"
    - Нажать "Перейти в Discord"
  expected-result: |
    Убедиться, что ссылка на приглашение работает

- summary: |
    Успешный редирект на телеграм канал Codebattle
  requirement: |
    При нажатии на "Tg#codebattle" должно появиться окно с приглашением в телеграм
  prerequisites:
    Открыта главная страница, пользователь авторизован в телеграм
  test-data: |
    empty
  steps:
    - Нажать на аватар
    - Нажать "Tg#codebattle"
  expected-result: |
    Убедиться, что ссылка на приглашение в канал работает
